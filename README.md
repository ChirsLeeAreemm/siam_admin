Siam Admin 2.0
===============

> 运行环境要求PHP7.1+，兼容PHP8.0。基于TP6.0开发。

## 特征

- 完全前后端分离
- 丰富的开发插件，简化开发工作
- 多门店 多商户 默认逻辑已支持
- 内置图片管理选择器
- 内置商品模块

## 说明
- 商品模块插件
- - 内置了商品管理信息（商品编辑快照）
- 上传图片插件
- - 内置了图片选择器（前端封装在另一个项目已经有 复制过来即可）
- - 可自定义上传驱动等

## 插件内容

- curd插件
- - 生成model、api controller文件
- - 生成list、view页面代码（因为是前后分离，不需要生成文件）
- - model字段注释更新，需支持关联关系（表结构更新后，运行 则可以自动更新model注释）
- Cron任务面板
- - 解析app/cron目录，根据类内容  渲染成一个table列表，方便查看整个系统都需要维护什么定时任务

- DB插件
- - 维护数据库、备份、恢复等
- DB字典
- - 读取数据库字段名和注释，生成字典
- HTTP请求监控
- - 记录、复发，一般在notify模块才需要开启
- 异常记录
- - 异常的记录和查看
- CMS插件
- - 官网类型等 文章分类、文章内容 均可使用
- api-filter插件
- - 自定义u_id, token, ip 等规则的访问限流，便于saas系统等
- 统计访问插件
- - 可以看到qps、每日访问总量等信息

## 安装运行

- composer install
- php think run (开发阶段)
- 后台首页 http://127.0.0.1:8000/admin/index.html

## 其他事项

- 前端开发文档：http://layuimini.99php.cn/docs/

插件思路&规则
===================
1. [start.plugs] 代表 启用的插件 规则为json文本
2. 第一次启用插件的时候，判断[插件目录下是否有install.lock]文件，无则为第一次安装，执行插件的install事件。然后往[start.plugs]文件插入该插件名
3. 插件没有卸载功能，可以反复停用、启用，不丢失历史数据
4. 插件里的数据表命名格式`表前缀_插件名_表名` 如，`siam_cms_articles`